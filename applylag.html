
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Applying Lagrangian Mechanics &#8212; Title</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/proof.css?v=ca93fcec" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=87e54e7c" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=3ee479438cf8b5e0d341"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'applylag';</script>
    <link rel="icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Livens principle" href="livensprinciple.html" />
    <link rel="prev" title="A Brief Overview of Lagrangian Mechanics" href="lagrangian.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/cubes.png" class="logo__image only-light" alt="Title - Home"/>
    <script>document.write(`<img src="_static/cubes.png" class="logo__image only-dark" alt="Title - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Simulating rigid body mechanics
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="interactive.html">Interactive demonstration</a></li>
<li class="toctree-l1"><a class="reference internal" href="objtrans.html">Object Transformation</a></li>
<li class="toctree-l1"><a class="reference internal" href="lagrangian.html">A Brief Overview of Lagrangian Mechanics</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Applying Lagrangian Mechanics</a></li>
<li class="toctree-l1"><a class="reference internal" href="livensprinciple.html">Livens principle</a></li>
<li class="toctree-l1"><a class="reference internal" href="symplecticness.html">Symplecticness</a></li>
<li class="toctree-l1"><a class="reference internal" href="structuralproperties.html">Structural Properties and Variational Integrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="integrator.html">The Integrator</a></li>
<li class="toctree-l1"><a class="reference internal" href="constraints.html">An Extension: Constraints</a></li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">Bibliography</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">


<a href="https://github.com/triadtitans/seminar_rigid_body_methods" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/applylag.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Applying Lagrangian Mechanics</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#describing-position-and-rotation">Describing Position and Rotation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#kinetic-energy">Kinetic Energy</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#translation">Translation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rotation">Rotation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#angular-momentum">Angular Momentum</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-mass-matrix">The Mass Matrix</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#potential-energy">Potential Energy</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gravity">“Gravity”</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#springs">Springs</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="applying-lagrangian-mechanics">
<h1>Applying Lagrangian Mechanics<a class="headerlink" href="#applying-lagrangian-mechanics" title="Link to this heading">#</a></h1>
<section id="describing-position-and-rotation">
<h2>Describing Position and Rotation<a class="headerlink" href="#describing-position-and-rotation" title="Link to this heading">#</a></h2>
<p><span class="math notranslate nohighlight">\(\require{mathtools}\)</span>
The generalised coordinates of a mass-point with rotation consist of the components of the translation vector and rotation matrix.
A solver like ASC-ODE solves for a matrix that forms the rotation matrix of the body.
Therefore, it needs to ensure that the resulting matrix <span class="math notranslate nohighlight">\(B\)</span> actually lies in <span class="math notranslate nohighlight">\(SO(3)\)</span>.</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\bf{det B = 1}\)</span> This has proven to be negligable.</p></li>
<li><p><span class="math notranslate nohighlight">\(\bf{B}\)</span> <strong>orthonormal</strong> needs to be reformulated into an equation that is easy to check.</p></li>
</ul>
<div class="amsmath math notranslate nohighlight" id="equation-dd5cccfc-eb46-4f30-b4e8-2b158f8b9dbb">
<span class="eqno">(9)<a class="headerlink" href="#equation-dd5cccfc-eb46-4f30-b4e8-2b158f8b9dbb" title="Permalink to this equation">#</a></span>\[\begin{align}
    B ~ \text{orthonormal} \\
    \Leftrightarrow \forall x \in \mathbb{R}^3:~ \| Bx \| &amp; = \| x \| \\
    \Leftrightarrow \forall x \in \mathbb{R}^3:~ \| Bx \|^2 &amp; = \| x \|^2 \\
    \Leftrightarrow \forall x \in \mathbb{R}^3:~ xB^TBx &amp; = x^Tx \\
    \Leftrightarrow B^TB &amp; = I
\end{align}\]</div>
<p>Therefore, the program only checks whether or not <span class="math notranslate nohighlight">\(B^TB = I\)</span>.
This can be broken down into 9 scalar equations, one for each compontent of <span class="math notranslate nohighlight">\(I\)</span>.
However, as <span class="math notranslate nohighlight">\(B^TB\)</span> is symmetric <span id="id1">[<a class="reference internal" href="bibliography.html#id3" title="Hans Havlicek. Lineare Algebra für technische Mathematik. Berliner Studienreihe zur Mathematik. Heldermann Verlag, Lemgo, vierte, korrigierte und erweiterte auflage edition, 2022. ISBN 3885381168.">Hav22</a>]</span>, the program only needs to check six of these equations.</p>
<p>These generalised coordinates and constraints describe the configuration space of one mass-point with added rotation.</p>
</section>
<section id="kinetic-energy">
<h2>Kinetic Energy<a class="headerlink" href="#kinetic-energy" title="Link to this heading">#</a></h2>
<p>In order to use the laws of langrangian mechanics, the langrangian function <span class="math notranslate nohighlight">\(L = T - V\)</span> of a rigid-body may be set up.</p>
<!-- Let $ U(t)(x) = (t) + R(t) \cdot x \in SE(3) $. (See [](inertiaframes).) -->
<div class="admonition-todo admonition">
<p class="admonition-title">TODO</p>
<p>adapt to section on Schöberl’s equations</p>
</div>
<section id="translation">
<h3>Translation<a class="headerlink" href="#translation" title="Link to this heading">#</a></h3>
<p>The translational part of the kinetic energy is given by:</p>
<div class="amsmath math notranslate nohighlight" id="equation-b658d319-efb8-4054-a46f-5e167bd5421b">
<span class="eqno">(10)<a class="headerlink" href="#equation-b658d319-efb8-4054-a46f-5e167bd5421b" title="Permalink to this equation">#</a></span>\[\begin{equation}
    T(v_{trans}) = \frac{1}{2} m v_{trans}^2
\end{equation}\]</div>
<p>where <span class="math notranslate nohighlight">\(v_{trans}\)</span> is the translational part of the velocity and m the mass of the body.
<span id="id2">[<a class="reference internal" href="bibliography.html#id2" title="Matthias Bartelmann, Björn Feuerbacher, Timm Krüger, Dieter Lüst, Anton Rebhan, and Andreas Wipf. Theoretische Physik. Springer Berlin Heidelberg, Berlin, Heidelberg, 2015. ISBN 3642546188. URL: 10.1007/978-3-642-54618-1.">BFK+15</a>, p. 131]</span>
There also holds <span class="math notranslate nohighlight">\( p_{trans} = m \cdot v_{trans} \)</span>, where <span class="math notranslate nohighlight">\(p_{trans}\)</span> is the (translational) momentum of the body.</p>
</section>
<section id="rotation">
<h3>Rotation<a class="headerlink" href="#rotation" title="Link to this heading">#</a></h3>
<p>This section covers the calculation of rotational kinetic energy for objects spinning <em>around their center of mass</em>,
without translation. It also assumes that the center of mass lies in the center of the body’s inertia frame.</p>
<p>Let <span class="math notranslate nohighlight">\(V \subseteq \mathbb{R}^3\)</span> be a set representing a body and <span class="math notranslate nohighlight">\(\rho(x)\)</span> the density of the body at a point <span class="math notranslate nohighlight">\(x \in V\)</span>.
Let the angular velocity of the body be given by <span class="math notranslate nohighlight">\(v_{rot} \in \mathbb{R}^3\)</span>.
Assume that the body only rotates around it’s center of mass (no translation) and that <span class="math notranslate nohighlight">\(V\)</span> and <span class="math notranslate nohighlight">\(v_{rot}\)</span> are in the body’s system of inertia.
Then the kinetic energy of this motion fulfills</p>
<div class="amsmath math notranslate nohighlight" id="equation-36161b5f-ce7a-4ca6-988f-8eaece9f2d69">
<span class="eqno">(11)<a class="headerlink" href="#equation-36161b5f-ce7a-4ca6-988f-8eaece9f2d69" title="Permalink to this equation">#</a></span>\[\begin{equation}
    T(v_{rot}) = \frac{1}{2} \int_V \rho(x)~ | v_{rot} \times x |^2 dx
               = \frac{1}{2} \int_V \rho(x)~ | \widehat{v_{rot}} x |^2 dx
\end{equation}\]</div>
<p>If we define <span class="math notranslate nohighlight">\((\cdot, \cdot)\)</span> as</p>
<div class="amsmath math notranslate nohighlight" id="equation-ddd5915f-87b5-4c40-9006-37e62d4e3434">
<span class="eqno">(12)<a class="headerlink" href="#equation-ddd5915f-87b5-4c40-9006-37e62d4e3434" title="Permalink to this equation">#</a></span>\[\begin{equation}
    (a, b) \coloneqq \frac{1}{2} \int_V \rho(x)~ (a \times x) \cdot (b \times x) ~ dx
\end{equation}\]</div>
<p>then one obtains <span class="math notranslate nohighlight">\(T(v_{rot}) = (v_{rot}, v_{rot})\)</span>.</p>
<p>For an efficient implementation of this scalar product, it’s gram matrix is used.
This matrix is called the <strong>inertia tensor</strong> (or moment of inertia tensor):
<span class="math notranslate nohighlight">\(\newcommand{\II}[0]{{\mathbb{I}}}\)</span></p>
<div class="amsmath math notranslate nohighlight" id="equation-f89d8dc7-0e08-46a9-9b75-6208a338a276">
<span class="eqno">(13)<a class="headerlink" href="#equation-f89d8dc7-0e08-46a9-9b75-6208a338a276" title="Permalink to this equation">#</a></span>\[\begin{equation}
    \II = \begin{pmatrix}
              I_{xx} &amp; I_{xy} &amp; I_{xz} \\
              I_{yx} &amp; I_{yy} &amp; I_{yz} \\
              I_{zx} &amp; I_{zy} &amp; I_{zz}
          \end{pmatrix} \in \mathbb{R}^{3 \times 3}
\end{equation}\]</div>
<p>It’s components <span class="math notranslate nohighlight">\(I_{ij}\)</span> are called the <em>moments of inertia</em>.
The inertia tensor is not time-dependent.</p>
<p>From the definition of the (symmetric) bilinear form above follows that <span class="math notranslate nohighlight">\(\II\)</span> is symmetric.
There also exists a orthonormal basis with respect to which <span class="math notranslate nohighlight">\(\II\)</span> is diagonal.
The inertia frame described by this basis is called <em>principle axis frame</em>.</p>
<p><span id="id3">[<a class="reference internal" href="bibliography.html#id4" title="Darryl D Holm. Geometric mechanics : 2. Rotating, translating and rolling. World Scientific Publ. Imperial College Press, Singapore [u.a.] London, 2008. ISBN 1848161557.">Hol08</a>, chapter 2.1]</span></p>
<p>The inertia matrix can be considered invertible:
Assume that it is not invertible. Let <span class="math notranslate nohighlight">\(a \neq 0, a \in ker \II\)</span>. Then <span class="math notranslate nohighlight">\(a\)</span> represents a rotation speed.
Increasing that rotation speed will however not affect the kinetic energy $T = \II \cdot \vrot.</p>
<p>This tensor can be obtained from a library like <code class="docutils literal notranslate"><span class="pre">netgen.occ</span></code> .</p>
</section>
<section id="angular-momentum">
<h3>Angular Momentum<a class="headerlink" href="#angular-momentum" title="Link to this heading">#</a></h3>
<p>In a body’s system of inertia, the angular momentum is the derivative of the kinetic energy with respect to the angular velocity:</p>
<div class="amsmath math notranslate nohighlight" id="equation-45bf71aa-a47f-4cc9-ba45-c556f753f1f8">
<span class="eqno">(14)<a class="headerlink" href="#equation-45bf71aa-a47f-4cc9-ba45-c556f753f1f8" title="Permalink to this equation">#</a></span>\[\begin{align}
    \Pi = \frac{\partial T}{\partial v_{rot}}
        &amp;= \frac{\partial}{\partial v_{rot}} \frac{1}{2} \int_V \rho(x)~ | v_{rot} \times x |^2 dx \\
        &amp;= \int_V \rho(x)~ x \times ( v_{rot} \times x ) dx \\
        &amp;= \left( \int_V \rho(x)~ (|x|I - xx^T) dx \right) \cdot v_{rot} \\
        &amp;= \II \cdot v_{rot}
\end{align}\]</div>
<p><span id="id4">[See <a class="reference internal" href="bibliography.html#id4" title="Darryl D Holm. Geometric mechanics : 2. Rotating, translating and rolling. World Scientific Publ. Imperial College Press, Singapore [u.a.] London, 2008. ISBN 1848161557.">Hol08</a>, 2.1.30]</span></p>
<p>Both the kinetic energy of the rotation and <span class="math notranslate nohighlight">\(\| \Pi \|\)</span> are conserved. <span id="id5">[<a class="reference internal" href="bibliography.html#id4" title="Darryl D Holm. Geometric mechanics : 2. Rotating, translating and rolling. World Scientific Publ. Imperial College Press, Singapore [u.a.] London, 2008. ISBN 1848161557.">Hol08</a>, 2.1.33]</span></p>
</section>
<section id="the-mass-matrix">
<h3>The Mass Matrix<a class="headerlink" href="#the-mass-matrix" title="Link to this heading">#</a></h3>
<p>From the above, two equations on the momentum of a body can be gathered:</p>
<div class="amsmath math notranslate nohighlight" id="equation-215c3570-816b-48f2-bdc2-889c6cc9df2f">
<span class="eqno">(15)<a class="headerlink" href="#equation-215c3570-816b-48f2-bdc2-889c6cc9df2f" title="Permalink to this equation">#</a></span>\[\begin{equation}
    p_{trans} = m \cdot v_{trans}
\end{equation}\]</div>
<p>and</p>
<div class="amsmath math notranslate nohighlight" id="equation-18112536-15af-4e8b-879f-fe1710517b49">
<span class="eqno">(16)<a class="headerlink" href="#equation-18112536-15af-4e8b-879f-fe1710517b49" title="Permalink to this equation">#</a></span>\[\begin{equation}
    p_{rot} = \II \cdot v_{rot}.
\end{equation}\]</div>
<p>These can be combined into one matrix equation</p>
<div class="amsmath math notranslate nohighlight" id="equation-d2b12449-2c75-4168-afe9-1a4031253b0d">
<span class="eqno">(17)<a class="headerlink" href="#equation-d2b12449-2c75-4168-afe9-1a4031253b0d" title="Permalink to this equation">#</a></span>\[\begin{equation}
    \begin{pmatrix}
        p_{trans} \\
        p_{rot}
    \end{pmatrix}
    =
    \begin{pmatrix}
        m \\
         &amp; m \\
         &amp;   &amp; m \\
         &amp;   &amp;   &amp; \Large\II
    \end{pmatrix}
    \cdot
    \begin{pmatrix}
        v_{trans} \\
        v_{rot}
    \end{pmatrix}
\end{equation}\]</div>
<p>The above block matrix is called the <strong>mass matrix</strong> of the body.</p>
<p>If the mass matrix is denoted by <span class="math notranslate nohighlight">\(\bf M\)</span> and <span class="math notranslate nohighlight">\(p \coloneqq \begin{pmatrix} p_{trans} \\ p_{rot} \end{pmatrix} \)</span> as well as
<span class="math notranslate nohighlight">\(v \coloneqq \begin{pmatrix} v_{trans} \\ v_{rot} \end{pmatrix} \)</span>, the equation can be written as <span class="math notranslate nohighlight">\(\bf p = M \cdot v\)</span>.
The mass matrix is not time-dependent as the inertia tensor and mass do not depent on time.
As the left upper diagonal and <span class="math notranslate nohighlight">\(\II\)</span> are invertible, the mass matrix is also invertible.</p>
<p>Note that the mass matrix represents the Legendre transform.</p>
<p>An object:
<img alt="&quot;hammer&quot;" src="_images/hammer.png" /></p>
<p>and its mass matrix from <code class="docutils literal notranslate"><span class="pre">netgen.occ</span></code>:</p>
<div class="amsmath math notranslate nohighlight" id="equation-cce5c608-33ce-48c5-b750-b7c827444378">
<span class="eqno">(18)<a class="headerlink" href="#equation-cce5c608-33ce-48c5-b750-b7c827444378" title="Permalink to this equation">#</a></span>\[\begin{equation}
\begin{pmatrix}
    2.06283 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\
    0 &amp; 2.06283 &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\
    0 &amp; 0 &amp; 2.06283 &amp; 0 &amp; 0 &amp; 0 \\
    0 &amp; 0 &amp; 0 &amp; 0.4915 &amp; 1.42185e-19 &amp; 3.65922e-18 \\
    0 &amp; 0 &amp; 0 &amp; 1.42185e-19 &amp; 0.833647 &amp; -1.58022e-17 \\
    0 &amp; 0 &amp; 0 &amp; 3.65922e-18 &amp; -1.58022e-17 &amp; 0.9915
\end{pmatrix}
\end{equation}\]</div>
<p>Note that the the absolute values of all off-diagonal values lie below the double precision epsilon.</p>
<!--
### The Center of Mass and the Origin of the Inertia System

In all of the above, only rotations around the center of mass were considered.
That is, the center of mass was always assumed to lie in the origin of the body's inertia frame.
This can be easily achieved during the setup of the system.

Otherwise, a rotation around the


```{admonition} TODO
jupyter(lite) example
```
-->
<p>The following is already possible just with kinetic energy:</p>
<div class="full-width docutils">
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
<span class="sd-summary-text">Jupyterlite</span><span class="sd-summary-state-marker sd-summary-chevron-right"><svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-right" viewBox="0 0 24 24" aria-hidden="true"><path d="M8.72 18.78a.75.75 0 0 1 0-1.06L14.44 12 8.72 6.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018l6.25 6.25a.75.75 0 0 1 0 1.06l-6.25 6.25a.75.75 0 0 1-1.06 0Z"></path></svg></span></summary><div class="sd-summary-content sd-card-body docutils">
<iframe src="https://triadtitans.github.io/rigid_body_interactive/lab/index.html?path=single_body.ipynb" width=100% height="700"></iframe>
</div>
</details></div>
</section>
</section>
<section id="potential-energy">
<h2>Potential Energy<a class="headerlink" href="#potential-energy" title="Link to this heading">#</a></h2>
<p>ASC-ODE also implements potential energy.
To account for interactions between bodies, the potential is calculated <strong>globally</strong>.
That is, all potential energies of all bodies are summed up.
Let <span class="math notranslate nohighlight">\(q_i \in SE(3)\)</span> represent the transformations of the individual bodies.
Then the result is a scalar-valued potential function</p>
<div class="amsmath math notranslate nohighlight" id="equation-01f675ea-59df-46a4-a4b8-23157652da14">
<span class="eqno">(19)<a class="headerlink" href="#equation-01f675ea-59df-46a4-a4b8-23157652da14" title="Permalink to this equation">#</a></span>\[\begin{equation}
    V( q_1, q_2, q_3, ...).
\end{equation}\]</div>
<p><span class="math notranslate nohighlight">\(V\)</span> is then differenciated with respect to all components of all <span class="math notranslate nohighlight">\(q_i\)</span>.
As the derivative of the potential is the force, the values of resulting gradient are forces.
These forces act on the component values of the <span class="math notranslate nohighlight">\(q_i\)</span> and thus on the transformations of the objects.</p>
<p>ASC-ODE implements simple gravity and spring.</p>
<section id="gravity">
<h3>“Gravity”<a class="headerlink" href="#gravity" title="Link to this heading">#</a></h3>
<p>A simplified form of gravity can be implemented via a constant force that depends on the mass.
A force that acts homogenously on the body does not influence it’s rotation.
Therefore, the body can be seen as a point mass. The bodies can also be treated individually.</p>
<p>Using <span class="math notranslate nohighlight">\(F = m \cdot a\)</span>, the force on a point mass can be specified as an acceleration vector <span class="math notranslate nohighlight">\(a \in \mathbb{R}^3\)</span> and the body mass <span class="math notranslate nohighlight">\(m\)</span>.
For any given translation vector <span class="math notranslate nohighlight">\(x\)</span>, the antiderivative or potential of that force is</p>
<div class="amsmath math notranslate nohighlight" id="equation-a4aa7768-7f3f-4158-a721-f26b5d1c6878">
<span class="eqno">(20)<a class="headerlink" href="#equation-a4aa7768-7f3f-4158-a721-f26b5d1c6878" title="Permalink to this equation">#</a></span>\[\begin{equation}
    m \cdot (a \cdot x).
\end{equation}\]</div>
<p>In ASC-ODE, the mass is automatically calculated and the <em>negative</em> acceleration vector can be specified:
<code class="docutils literal notranslate"><span class="pre">rbs.gravity</span> <span class="pre">=</span> <span class="pre">(0,</span> <span class="pre">9.81,</span> <span class="pre">0)</span></code> for downward force.</p>
<div class="full-width docutils">
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
<span class="sd-summary-text">Jupyterlite</span><span class="sd-summary-state-marker sd-summary-chevron-right"><svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-right" viewBox="0 0 24 24" aria-hidden="true"><path d="M8.72 18.78a.75.75 0 0 1 0-1.06L14.44 12 8.72 6.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018l6.25 6.25a.75.75 0 0 1 0 1.06l-6.25 6.25a.75.75 0 0 1-1.06 0Z"></path></svg></span></summary><div class="sd-summary-content sd-card-body docutils">
<iframe src="https://triadtitans.github.io/rigid_body_interactive/lab/index.html?path=hammer.ipynb" width=100% height="700"></iframe>
</div>
</details></div>
</section>
<section id="springs">
<h3>Springs<a class="headerlink" href="#springs" title="Link to this heading">#</a></h3>
<p>Let <span class="math notranslate nohighlight">\(x_1\)</span>, <span class="math notranslate nohighlight">\(x_2\)</span> be vectors in the systems of inertia of two different bodies. Their conversion to global coordinates is <span class="math notranslate nohighlight">\(U_1(x_1)\)</span> and <span class="math notranslate nohighlight">\(U_2(x_1)\)</span>, respectively.
Consider these points to be connected by a spring with stiffness <span class="math notranslate nohighlight">\(k\)</span>, length at rest <span class="math notranslate nohighlight">\(l\)</span> and elongation <span class="math notranslate nohighlight">\(e = \| U_1(x_1) - U_2(x_2) \| - l\)</span>.</p>
<p>Then Hooke’s law states that the resulting force is given by <span class="math notranslate nohighlight">\(F = k \cdot e\)</span> <span id="id6">[<a class="reference internal" href="bibliography.html#id2" title="Matthias Bartelmann, Björn Feuerbacher, Timm Krüger, Dieter Lüst, Anton Rebhan, and Andreas Wipf. Theoretische Physik. Springer Berlin Heidelberg, Berlin, Heidelberg, 2015. ISBN 3642546188. URL: 10.1007/978-3-642-54618-1.">BFK+15</a>, p. 312]</span>.
Then the resulting potential is</p>
<div class="amsmath math notranslate nohighlight" id="equation-5745c0e2-0dc8-4e28-8e89-9938a8c4b5b8">
<span class="eqno">(21)<a class="headerlink" href="#equation-5745c0e2-0dc8-4e28-8e89-9938a8c4b5b8" title="Permalink to this equation">#</a></span>\[\begin{equation}
    \frac{k}{2} e^2.
\end{equation}\]</div>
<div class="full-width docutils">
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
<span class="sd-summary-text">Jupyterlite</span><span class="sd-summary-state-marker sd-summary-chevron-right"><svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-right" viewBox="0 0 24 24" aria-hidden="true"><path d="M8.72 18.78a.75.75 0 0 1 0-1.06L14.44 12 8.72 6.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018l6.25 6.25a.75.75 0 0 1 0 1.06l-6.25 6.25a.75.75 0 0 1-1.06 0Z"></path></svg></span></summary><div class="sd-summary-content sd-card-body docutils">
<iframe src="https://triadtitans.github.io/rigid_body_interactive/lab/index.html?path=rbs_fem.ipynb" width=100% height="700"></iframe>
</div>
</details></div>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="lagrangian.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">A Brief Overview of Lagrangian Mechanics</p>
      </div>
    </a>
    <a class="right-next"
       href="livensprinciple.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Livens principle</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#describing-position-and-rotation">Describing Position and Rotation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#kinetic-energy">Kinetic Energy</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#translation">Translation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rotation">Rotation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#angular-momentum">Angular Momentum</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-mass-matrix">The Mass Matrix</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#potential-energy">Potential Energy</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gravity">“Gravity”</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#springs">Springs</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Linus Knoll, Tobias Leichtfried, Norbert Hammer
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>